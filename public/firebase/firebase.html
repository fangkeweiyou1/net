<!doctype html>
<html lang="cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://code.jquery.com/jquery-3.0.0.min.js"></script>
    <style type="text/css">
        #app {
            width: 800px;
            margin: 100px auto;
        }
    </style>
    <title>firebase</title>
</head>
<body>
<div id="app">
    <div style="border: 1px solid red;display: none">
        <label><input type="checkbox">notification</label>
    </div>

    <br/>

    <button id="send" onclick="send()">发送消息</button>
</div>
<script>
    function send() {
        console.log("发送");
        var data3 = {
            "message": {
                "token": "eyP2IP9oUSo:APA91bGPSc1-TIEne6Zv3ick7F2lR9vo0LO4kBA-zkIreP0AEnG8wrNKRE3MpD83G-DlVmIqZQQJCgITgqpw8qodZC7gx1gMxAEpsR1D1J3nPmM_OlYap7pEUn3tCHElsamCjAo6YVrL",
                "notification": {
                    "body": "This is an FCM notification that displays an image.!",
                    "title": "FCM Notification",
                },
                "apns": {
                    "payload": {
                        "aps": {
                            "mutable-content": 1
                        }
                    },
                    "fcm_options": {
                        "image": "http://image.biaobaiju.com/uploads/20181007/20/1538913958-KLFbqPSovh.jpg"
                    }
                }
            }
        };
        var data2 = {
            data: {
                msgid: "-1",
                title: "hello",
                body: "hello",
                smallImageUrl: "https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1578054903253&di=6c578832e813f208dba94b36c8b902a5&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201602%2F19%2F20160219142234_LjcWC.png",
                bigImageUrl: "https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1578054903253&di=6c578832e813f208dba94b36c8b902a5&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201602%2F19%2F20160219142234_LjcWC.png",
                url: "asia5b://www.asia5b.com/inbox?id=0"
            },
            notification: {
                "body": "This is an FCM notification that displays an image.!",
                "title": "FCM Notification",
                "image": "http://image.biaobaiju.com/uploads/20181007/20/1538913958-KLFbqPSovh.jpg",
                "sound": "default"
            },
            apns: {
                "payload": {
                    "aps": {
                        "mutable-content": 1
                    }
                },
                "fcm_options": {
                    "image": "http://image.biaobaiju.com/uploads/20181007/20/1538913958-KLFbqPSovh.jpg"
                }
            },
//            to: "eqw-gS28mLE:APA91bHybeOJlJd8G55OoC7NlYLlw2QxI-0nxT3Hw9LRXuJdvnlymf1SXfo7de8tP_A5VpbL-BVJYPvhKm3TguWtE10Ue-RsVPpQ5fEZbOEFkDbk1EJQNImJOi-2i4PE56MMw1LEpn8b"
            to: "eyP2IP9oUSo:APA91bGPSc1-TIEne6Zv3ick7F2lR9vo0LO4kBA-zkIreP0AEnG8wrNKRE3MpD83G-DlVmIqZQQJCgITgqpw8qodZC7gx1gMxAEpsR1D1J3nPmM_OlYap7pEUn3tCHElsamCjAo6YVrL"

        };
        $.ajax({
            type: 'post',
//            url: 'https://fcm.googleapis.com/v1/projects/myproject-asia5b-test/messages:send',
            url: 'https://fcm.googleapis.com/fcm/send',
            contentType: 'application/json',
            beforeSend: function (xhr) {
                xhr.setRequestHeader("Authorization", "key=AAAAJKSFILQ:APA91bG5-xvZJIJ2RwHLu9IBDsr-k3rI4d4Zo16gzeAc9rhDEZkWHfOYw93cqsYnRBVYl_BCXUpUBQIp5TNe-8EF-VMlCGqckMK8jQuw1pjXN801BnYUrBqrW_gt-0TkZHbEA2AM1M8_");
//                xhr.setRequestHeader("Authorization", "Bearer AAAAJKSFILQ:APA91bG5-xvZJIJ2RwHLu9IBDsr-k3rI4d4Zo16gzeAc9rhDEZkWHfOYw93cqsYnRBVYl_BCXUpUBQIp5TNe-8EF-VMlCGqckMK8jQuw1pjXN801BnYUrBqrW_gt-0TkZHbEA2AM1M8_");
            },
            data: JSON.stringify(data2),
            dataType: 'json',
            success: function (data) {
                console.log("成功:" + data)
            }
        });
        console.log("发送2")
    }
</script>

</body>
</html>