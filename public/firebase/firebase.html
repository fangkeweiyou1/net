<!doctype html>
<html lang="cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://code.jquery.com/jquery-3.0.0.min.js"></script>
    <style type="text/css">
        #app {
            width: 800px;
            margin: 100px auto;
        }
    </style>
    <title>firebase</title>
</head>
<body>
<div id="app">
    <div style="border: 1px solid red;display: none">
        <label><input type="checkbox">notification</label>
    </div>

    <br/>

    <button id="send" onclick="send()">发送消息</button>
</div>
<script>
    function send() {
        console.log("发送");
        var data3 = {
            "message": {
                "token": "eyP2IP9oUSo:APA91bGPSc1-TIEne6Zv3ick7F2lR9vo0LO4kBA-zkIreP0AEnG8wrNKRE3MpD83G-DlVmIqZQQJCgITgqpw8qodZC7gx1gMxAEpsR1D1J3nPmM_OlYap7pEUn3tCHElsamCjAo6YVrL",
                "notification": {
                    "body": "This is an FCM notification that displays an image.!",
                    "title": "FCM Notification",
                },
                "apns": {
                    "payload": {
                        "aps": {
                            "mutable-content": 1
                        }
                    },
                    "fcm_options": {
                        "image": "http://image.biaobaiju.com/uploads/20181007/20/1538913958-KLFbqPSovh.jpg"
                    }
                }
            }
        };
        var data2 = {
            data: {
                msgid: "-1",
                title: "这里是标题",
                body: "这里是内容",
                smallImageUrl: "http://img3.imgtn.bdimg.com/it/u=3493978666,3694725441&fm=26&gp=0.jpg",//这里是默认视图中右边图片
                bigImageUrl: "http://img2.imgtn.bdimg.com/it/u=2824288391,1580212003&fm=26&gp=0.jpg",//这里是扩展视图中的图片
                //注意:扩展文字和扩展视图只允许一个
                extendBody:"这里是扩展文本这里是扩展文本这里是扩展文本这里是扩展文本这里是扩展文本这里是扩展文本这里是扩展文本这里是扩展文本",
                url: "asia5b://www.asia5b.com/inbox?id=0"
            },
//            notification: {
//                "body": "This is an FCM notification that displays an image.!",
//                "title": "FCM Notification",
//                "image": "http://image.biaobaiju.com/uploads/20181007/20/1538913958-KLFbqPSovh.jpg",
//                "sound": "default"
//            },
            apns: {
                "payload": {
                    "aps": {
                        "mutable-content": 1
                    }
                },
                "fcm_options": {
                    "image": "http://image.biaobaiju.com/uploads/20181007/20/1538913958-KLFbqPSovh.jpg"
                }
            },
//            to: "eqw-gS28mLE:APA91bHybeOJlJd8G55OoC7NlYLlw2QxI-0nxT3Hw9LRXuJdvnlymf1SXfo7de8tP_A5VpbL-BVJYPvhKm3TguWtE10Ue-RsVPpQ5fEZbOEFkDbk1EJQNImJOi-2i4PE56MMw1LEpn8b"
//            to: "eyP2IP9oUSo:APA91bGPSc1-TIEne6Zv3ick7F2lR9vo0LO4kBA-zkIreP0AEnG8wrNKRE3MpD83G-DlVmIqZQQJCgITgqpw8qodZC7gx1gMxAEpsR1D1J3nPmM_OlYap7pEUn3tCHElsamCjAo6YVrL"
//            to: "cRkAC-P7StM:APA91bHagRrExtcL3HMoog6k4cTi8PDRvxbmhMVD64UphpdadHBUshGFrPASzHsuMuvJaNa1zGrgTOpZjCPzpr_fo5A5dH2ovxedSkQBuMckNiRrJFcnOKp5WAGVPklVtH8LvX1FaSWl"
            to: "edVVE4JALts:APA91bFqXWAkC3ksyqxHS4Rtp-A4zWfLSqqjZHm6pdOxUOTQEXPbEclvZP1qT6z01QajjAx_KHP5Pe1wVmlSTdffJjh7tKeTKjdkBqmWbVL8sERWW7YNP4OHCjT3RGbmsIGwqssgk7k2"

        };
        $.ajax({
            type: 'post',
//            url: 'https://fcm.googleapis.com/v1/projects/myproject-asia5b-test/messages:send',
            url: 'https://fcm.googleapis.com/fcm/send',
            contentType: 'application/json',
            beforeSend: function (xhr) {
                xhr.setRequestHeader("Authorization", "key=AAAAJKSFILQ:APA91bG5-xvZJIJ2RwHLu9IBDsr-k3rI4d4Zo16gzeAc9rhDEZkWHfOYw93cqsYnRBVYl_BCXUpUBQIp5TNe-8EF-VMlCGqckMK8jQuw1pjXN801BnYUrBqrW_gt-0TkZHbEA2AM1M8_");
//                xhr.setRequestHeader("Authorization", "Bearer AAAAJKSFILQ:APA91bG5-xvZJIJ2RwHLu9IBDsr-k3rI4d4Zo16gzeAc9rhDEZkWHfOYw93cqsYnRBVYl_BCXUpUBQIp5TNe-8EF-VMlCGqckMK8jQuw1pjXN801BnYUrBqrW_gt-0TkZHbEA2AM1M8_");
            },
            data: JSON.stringify(data2),
            dataType: 'json',
            success: function (data) {
                console.log("成功:" + data)
            }
        });
        console.log("发送2")
    }
</script>

</body>
</html>